=== p2p-wpml === 
Contributors: lencinhaus, baden03, twinpictures, laurentdinclaux
Tags: p2p, wpml, sitepress, icanlocalize, posts-to-posts, posts-2-posts, posts to posts, posts-to-posts
Requires at least: 3.5.1
Tested up to: 3.6.1
Stable tag: 1.2.5
Donate link: https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&encrypted=-----BEGIN+PKCS7-----MIIHXwYJKoZIhvcNAQcEoIIHUDCCB0wCAQExggEwMIIBLAIBADCBlDCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20CAQAwDQYJKoZIhvcNAQEBBQAEgYApcJG9mmUhvVsZbZbMxwTs8tSBDdq1E%2biwo%2fmGEA3DKp1MaWO04urh%2bn5e7W8QA0VLT4PxClF7HtvetQZIxeCIhyghjPHEAu%2blLQKu660Crrbem8J2CMSCiwgPdIsWxivEStRA%2bKXJ%2fEafNUN3CT1W3o2%2bIY21sKoU1acsPy7LsTELMAkGBSsOAwIaBQAwgdwGCSqGSIb3DQEHATAUBggqhkiG9w0DBwQInnGO1bQx5jKAgbhOgr%2bWRywvJo9Ey9SPB%2b90JUxX2zAFgdJrGM2%2fgW%2f5WIybb6zd%2baQgslt2NdwbcfXLOO93rVH6DBrFViIpkc6CKo0Pc6hZFimFASx%2b%2fRgnhU8eIRMnhTU41htTrS7mXvyu9zxMPzBrBC5xEbP3g765dImA0C50nn49RpMUoy9SZseEd8VFIdu1F%2baxxscNvMBXNTQSPqx6rNOtS9pYR%2btNv6cF%2be6X3uACe0kD9OCT7WJbJKOH%2bM6ioIIDhzCCA4MwggLsoAMCAQICAQAwDQYJKoZIhvcNAQEFBQAwgY4xCzAJBgNVBAYTAlVTMQswCQYDVQQIEwJDQTEWMBQGA1UEBxMNTW91bnRhaW4gVmlldzEUMBIGA1UEChMLUGF5UGFsIEluYy4xEzARBgNVBAsUCmxpdmVfY2VydHMxETAPBgNVBAMUCGxpdmVfYXBpMRwwGgYJKoZIhvcNAQkBFg1yZUBwYXlwYWwuY29tMB4XDTA0MDIxMzEwMTMxNVoXDTM1MDIxMzEwMTMxNVowgY4xCzAJBgNVBAYTAlVTMQswCQYDVQQIEwJDQTEWMBQGA1UEBxMNTW91bnRhaW4gVmlldzEUMBIGA1UEChMLUGF5UGFsIEluYy4xEzARBgNVBAsUCmxpdmVfY2VydHMxETAPBgNVBAMUCGxpdmVfYXBpMRwwGgYJKoZIhvcNAQkBFg1yZUBwYXlwYWwuY29tMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDBR07d%2fETMS1ycjtkpkvjXZe9k%2b6CieLuLsPumsJ7QC1odNz3sJiCbs2wC0nLE0uLGaEtXynIgRqIddYCHx88pb5HTXv4SZeuv0Rqq4%2baxW9PLAAATU8w04qqjaSXgbGLP3NmohqM6bV9kZZwZLR%2fklDaQGo1u9uDb9lr4Yn%2brBQIDAQABo4HuMIHrMB0GA1UdDgQWBBSWn3y7xm8XvVk%2fUtcKG%2bwQ1mSUazCBuwYDVR0jBIGzMIGwgBSWn3y7xm8XvVk%2fUtcKG%2bwQ1mSUa6GBlKSBkTCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb22CAQAwDAYDVR0TBAUwAwEB%2fzANBgkqhkiG9w0BAQUFAAOBgQCBXzpWmoBa5e9fo6ujionW1hUhPkOBakTr3YCDjbYfvJEiv%2f2P%2bIobhOGJr85%2bXHhN0v4gUkEDI8r2%2frNk1m0GA8HKddvTjyGw%2fXqXa%2bLSTlDYkqI8OwR8GEYj4efEtcRpRYBxV8KxAW93YDWzFGvruKnnLbDAF6VR5w%2fcCMn5hzGCAZowggGWAgEBMIGUMIGOMQswCQYDVQQGEwJVUzELMAkGA1UECBMCQ0ExFjAUBgNVBAcTDU1vdW50YWluIFZpZXcxFDASBgNVBAoTC1BheVBhbCBJbmMuMRMwEQYDVQQLFApsaXZlX2NlcnRzMREwDwYDVQQDFAhsaXZlX2FwaTEcMBoGCSqGSIb3DQEJARYNcmVAcGF5cGFsLmNvbQIBADAJBgUrDgMCGgUAoF0wGAYJKoZIhvcNAQkDMQsGCSqGSIb3DQEHATAcBgkqhkiG9w0BCQUxDxcNMTIwNzAyMTQ0MjUzWjAjBgkqhkiG9w0BCQQxFgQU%2fO57bo%2bU1YOo%2fAvKmUSDJZwZ9lUwDQYJKoZIhvcNAQEBBQAEgYC%2fcYrtAf7hPZi4eY9JfrPNeZZ5MtKLHJzAQOfLYhJKEfdUTZnTwKcAWq%2bLgherkB6LKqWIqUE9bvkQeDUSHNZVkMqtH3MFimEfJ6odm%2bIm6uGXz1s92ukyNjKtVvjdg4oE%2fnDJ%2bycyIzMBHiWRTPe%2b5rWsdwQe4BOYbY0bID8UAA%3d%3d-----END+PKCS7-----

Integration between WPML and Posts 2 Posts.

== Description ==

**p2p-wpml** is a [WordPress](http://wordpress.org/) plugin that integrates [iCanLocalize's WPML](http://wpml.org/) and [Posts 2 Posts](http://scribu.net/wordpress/posts-to-posts).

The following table shows version compatibility between this plugin, other plugins and WordPress:

* P2P-WPML 1.0

	* P2P 0.8
	* WPML 2.3.3, 2.3.4
	* WordPress 3.2.1

* P2P-WPML 1.1

	* P2P 1.3.1
	* WPML 2.5.2
	* WordPress 3.4.1

* P2P-WPML 1.2.1

	* P2P 1.4.1
	* WPML 2.5.2
	* WordPress 3.4.1

* P2P-WPML 1.2.2

	* P2P 1.5.2
	* WPML 2.7.1
	* WordPress 3.5.1

* P2P-WPML 1.2.3
	* P2P 1.5.2
	* WPML 2.7.1
	* WordPress 3.5.1, 3.5.2

* P2P-WPML 1.2.4, 1.2.5
	* P2P 1.6.2
	* WPML 2.7.1
	* WordPress 3.6.1
	
This plugin has been only tested with the above version combinations; different versions of WordPress or the plugins may break this plugin's functionality so use it at your own risk.

= Features =


* **Synchronization of connections between translations**:

	* when a new connection is created between two posts (the origin and the destination), each translation of the origin will be connected to the translation of the destination in the corresponding language (if both exist);
	* when a connection between two posts is deleted, all the connections between the translations of those two posts will be deleted (where they exist);
	* when a new translation of a given post is created, for each connection between the original post and another post (the destination), a new connection is created between the translated post and the translation of the destination post in the corresponding language (if it exists), and metadata from the original connection are copied to the new connection.
	
* **Synchronization of connection metadata between translations**:

	* when metadata are created, updated or deleted on a connection between to posts (the origin and the destination), metadata of connections between the translations of the origin and destination posts are updated accordingly; this includes when a new connection is created on the original posts and its metadata are initialized with default values.

* **Only connectable posts in the current language are shown in the P2P metaboxes**:

	* without this plugin, when you edit a post translation (not in the default language), the P2P metaboxes only show connectable posts in the default language.
	
= Caveats =

* Currently this plugin doesn't manage multiple connections between the same posts (a single connection will be created between the translated posts).
* Currently the synchronization feature is NOT retroactive: all connections created before plugin activation will not be synchronized (it can still be done manually as without the plugin).
* This plugin can break P2P cardinality checks, so you shouldn't specify a cardinality when creating connection types.

Links: [**Github**](https://github.com/cubica/p2p-wpml) | [Author's Site](http://www.cubica.eu) | [Twinpictures](http://plugins.twinpictures.de)

== Installation ==

1. Extract the downloadable archive inside *wp-content/plugins*, and activate in WordPress administration.
1. The plugin can be configured accessing the **Posts 2 Posts** link inside the **WPML** settings menu.

**IMPORTANT**: 

* The synchronization feature (both connections and connection metadata) is *DISABLED* by default
* The language filtering feature is *ENABLED* by default

== Frequently Asked Questions == 
= Question? =
Answer 

== Screenshots == 

1. Settings management

== Changelog ==

= 1.2.5 =
* Fix strict standards warnings

= 1.2.4 =
* Fix metas sync when creating connections programmatically

= 1.2.3 =
* Compatibility with WordPress 3.5.2
* Changes init hook priority for the hack handling duplicates

= 1.2.2 =
* Compatibility with P2P 1.5.2, WPML 2.7.1 and WordPress 3.5.1
* Directory name agnostic plugin dependency check, fixes for compatibility, duplication of posts and users connections

= 1.2.1 =
* Fixed notices, see issue https://github.com/cubica/p2p-wpml/issues/7

= 1.2 =
* Compatibility with P2P 1.4.1
* Support for connections between posts and attachments/users
* P2P meta synchronization
* Added warning if WPML and/or P2P are not active
* General refactoring of the synchronizer
* Bug fixing

= 1.1 = 
* Correctly loads the ui.js script for p2p v.1.3.1+
* Compatibility with P2P 1.3.1 and WPML 2.5.2

= 1.0 = 
* First version
